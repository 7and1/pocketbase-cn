# Litestream replication config for PocketBase.cn
# Copy to /opt/pocketbase/litestream.yml and fill in env vars in /opt/pocketbase/.env

dbs:
  - path: /opt/pocketbase/pb_data/data.db
    replicas:
      - type: s3
        bucket: ${LITESTREAM_BUCKET}
        path: litestream/data
        endpoint: ${PB_S3_ENDPOINT}
        region: auto
        access-key-id: ${LITESTREAM_ACCESS_KEY_ID}
        secret-access-key: ${LITESTREAM_SECRET_ACCESS_KEY}
        skip-verify: false

  - path: /opt/pocketbase/pb_data/auxiliary.db
    replicas:
      - type: s3
        bucket: ${LITESTREAM_BUCKET}
        path: litestream/auxiliary
        endpoint: ${PB_S3_ENDPOINT}
        region: auto
        access-key-id: ${LITESTREAM_ACCESS_KEY_ID}
        secret-access-key: ${LITESTREAM_SECRET_ACCESS_KEY}
        skip-verify: false
